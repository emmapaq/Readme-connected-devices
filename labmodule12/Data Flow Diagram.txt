---

## Part 5: Data Flow Diagram
```
┌─────────────────────────────────────────────────────────────────┐
│                        FERMENTATION SYSTEM                      │
└─────────────────────────────────────────────────────────────────┘

┌───────────────────┐         ┌───────────────────┐         ┌─────────────┐
│                   │         │                   │         │             │
│   CDA (Python)    │◄──────►│   GDA (Java)      │◄───────►│ Cloud MQTT  │
│                   │  MQTT/  │                   │  MQTT/  │   Broker    │
│  Raspberry Pi     │  CoAP   │   Gateway PC      │   TLS   │             │
│                   │  w/TLS  │                   │         │             │
└───────────────────┘         └───────────────────┘         └─────────────┘
         │                             │                            │
         │                             │                            │
    ┌────▼─────┐                  ┌───▼────┐                  ┌────▼────┐
    │ Sensors  │                  │ Redis  │                  │Dashboard│
    │ ├─Temp   │                  │  DB    │                  │ (Web)   │
    │ ├─Humid  │                  │        │                  │         │
    │ └─Press  │                  └────────┘                  └─────────┘
    └──────────┘
    ┌──────────┐
    │Actuators │
    │ ├─HVAC   │
    │ ├─Humid  │
    │ └─LED    │
    └──────────┘

DATA FLOW:

1. Sensor Reading (every 2 min):
   Sensor → DeviceDataManager → handleSensorData()
   ├─ Check thresholds (profile-aware)
   ├─ Detect temperature spikes
   ├─ Trigger local actuations if needed
   └─ Send to GDA via MQTT/CoAP

2. GDA Processing:
   Receive SensorData → DeviceDataManager
   ├─ Store in Redis (time-series)
   ├─ Analyze trends (optional fermentation stage detection)
   └─ Forward to Cloud MQTT

3. Remote Command (from Cloud/Dashboard):
   Cloud → GDA → CDA
   ├─ Profile change command
   ├─ Manual actuator override
   └─ Emergency commands

4. Local Automation (CDA):
   Threshold crossed →
   ├─ Generate ActuatorData
   └─ Send to ActuatorAdapterManager → Actuator

5. Actuation Response:
   ActuatorData → HvacActuator/HumidifierActuator/LedDisplay
   └─ Execute command (ON/OFF/COOLING/HEATING/etc.)
